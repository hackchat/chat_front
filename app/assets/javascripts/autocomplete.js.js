// Generated by CoffeeScript 1.3.1
(function() {

  $(function() {
    return $('#message_content').keyup(function() {
      var array, content, last_word, matches, regex;
      content = $(this).val();
      last_word = content.split(" ").pop();
      if (last_word.match(/^@/)) {
        regex = new RegExp(last_word.replace('@', ''));
        matches = Roomies.filter(function(roomie) {
          return roomie.name.match(regex);
        });
        if (matches.length) {
          array = content.split(" ").pop();
          console.log(matches);
          array.push(matches[0].name);
          return content = array.join(" ");
        }
      }
    });
  });

}).call(this);
